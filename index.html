<!doctype html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Huizemark • Smart Match (Blessing Nsibande)</title>

  <!-- SEO essentials -->
  <link rel="canonical" href="https://match.ncdigital.co.za/">
  <meta name="description" content="Answer a few questions and instantly see Huizemark property matches. Book a viewing with Blessing Nsibande.">
  <meta property="og:title" content="Huizemark Smart Match — Quick Property Matches">
  <meta property="og:description" content="Get tailored Huizemark matches in seconds and book a viewing with Blessing.">
  <meta property="og:url" content="https://match.ncdigital.co.za/">
  <meta property="og:image" content="https://match.ncdigital.co.za/assets/og-image.jpg">
  <meta name="twitter:card" content="summary_large_image">

  <style>
    /* ===================== THEME TOKENS ===================== */
    :root{
      /* light defaults */
      --hz-orange:#f58220; --hz-grey:#4d4d4d; --hz-bg:#ffffff; --hz-text:#222;
      --hz-muted:#6b7280; --hz-border:#e5e7eb; --focus:#1d4ed8; --btn-text:#fff;
      --card-bg:#ffffff;
    }
    /* If user’s OS prefers dark (only used when no forced theme class) */
    @media (prefers-color-scheme: dark) {
      :root{
        --hz-bg:#0b0b0c; --hz-text:#eaeaea; --hz-muted:#9aa0a6; --hz-border:#2a2a2d;
        --card-bg:#141416;
      }
    }
    /* Forced light/dark classes (override OS) */
    .theme-light{
      --hz-bg:#ffffff; --hz-text:#222; --hz-muted:#6b7280; --hz-border:#e5e7eb; --card-bg:#ffffff;
    }
    .theme-dark{
      --hz-bg:#0b0b0c; --hz-text:#eaeaea; --hz-muted:#9aa0a6; --hz-border:#2a2a2d; --card-bg:#141416;
    }

    /* ===================== BASE ===================== */
    html:focus-within { scroll-behavior: smooth; }
    body{ margin:0; font-family: system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Helvetica,Arial;
          background:var(--hz-bg); color:var(--hz-text); }
    a{ color:var(--hz-orange); }

    .skip-link{ position:absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden; }
    .skip-link:focus{ left:8px; top:8px; width:auto; height:auto; padding:10px 12px; background:#111; color:#fff; border-radius:8px; z-index:9999; }

    .wrap{ max-width: 780px; margin: 24px auto; padding: 0 16px; }
    .brand{ display:flex; align-items:center; gap:12px; }
    .brand__logo{ height: 64px; }
    .toolbar{ margin-left:auto; display:flex; align-items:center; gap:10px; }

    .card{
      background:var(--card-bg); border:1px solid var(--hz-border);
      border-radius:12px; padding:20px; margin-top:16px;
    }

    label{ display:block; margin:10px 0 4px; font-weight:600; }
    input, select, button, textarea { font: inherit; }
    input, select, textarea {
      width:100%; padding:12px; border:1px solid var(--hz-border); border-radius:10px;
      background:transparent; color:var(--hz-text);
    }
    input:focus, select:focus, button:focus, a:focus { outline: 3px solid var(--focus); outline-offset: 2px; }

    .btn{ background:var(--hz-orange); color:var(--btn-text); border:0; border-radius:10px;
          padding:12px 16px; cursor:pointer; text-decoration:none; display:inline-flex; align-items:center; gap:8px; }
    .btn.secondary{ background:var(--hz-grey); }

    .row{ display:grid; gap:12px; grid-template-columns: 1fr 1fr; }
    @media (max-width: 640px){ .row{ grid-template-columns:1fr; } }

    .muted{ color:var(--hz-muted); font-size: 0.95rem; }
    .results ol{ padding-left: 1.2rem; }
    .sr-only{ position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }

    /* Quick contact strip under results */
    .quick-contact{
      display:none; margin-top:12px; border-top:1px solid var(--hz-border); padding-top:12px;
    }
    .quick-contact .mini{ display:grid; gap:8px; grid-template-columns: 1fr 1fr 1fr 1fr; }
    @media (max-width: 640px){ .quick-contact .mini{ grid-template-columns:1fr; } }
  </style>
</head>
<body>
  <a href="#main" class="skip-link">Skip to main content</a>

  <header class="wrap" role="banner">
    <div class="brand" aria-label="Huizemark Smart Match header">
      <img class="brand__logo"
           src="https://d21tw07c6rnmp0.cloudfront.net/media/uploads/94/theme-settings/2025/5/94_8a5e0d54687d41228f79c92853b42629.png"
           alt="Huizemark logo" loading="lazy" decoding="async" />
      <h1 style="margin:0">Smart Match</h1>
      <div class="toolbar" role="group" aria-label="Theme toggle">
        <button id="toggleTheme" class="btn secondary" type="button" aria-pressed="false" aria-label="Toggle dark/light">🌙 Dark mode</button>
      </div>
    </div>
  </header>

  <main id="main" class="wrap" role="main">
    <section class="card" aria-labelledby="intro-title">
      <h2 id="intro-title" style="margin-top:0">Find matching Huizemark properties fast</h2>
      <p class="muted">We respect your privacy and POPIA. We’ll ask consent first.</p>
    </section>

    <section class="card" aria-labelledby="consent-title">
      <h2 id="consent-title" style="margin-top:0">Consent</h2>
      <p class="muted">
        By continuing, you consent to Huizemark storing your details for property matching only.
        Type <strong>STOP</strong> any time to opt out.
      </p>
    </section>

    <!-- PREFERENCES -->
    <section class="card" aria-labelledby="form-title">
      <h2 id="form-title" style="margin-top:0">Your preferences</h2>
      <form id="qform" aria-describedby="form-help" novalidate>
        <p id="form-help" class="sr-only">Answer the fields, then press the Show Matches button.</p>

        <div class="row">
          <div>
            <label for="budget">Max budget (R)</label>
            <input id="budget" name="budget" inputmode="numeric" autocomplete="off" required placeholder="e.g. 1200000" aria-required="true" />
          </div>
          <div>
            <label for="beds">Bedrooms</label>
            <select id="beds" name="beds" aria-label="Number of bedrooms">
              <option>2</option><option selected>3</option><option>4</option><option>5+</option>
            </select>
          </div>
        </div>

        <div class="row">
          <div>
            <label for="schools">Schools</label>
            <select id="schools" name="schools" aria-label="Proximity to schools">
              <option>Walk</option><option selected>Short drive</option><option>Not important</option>
            </select>
          </div>
          <div>
            <label for="garden">Garden</label>
            <select id="garden" name="garden" aria-label="Garden preference">
              <option selected>Sunny</option><option>Shaded</option><option>Doesn’t matter</option>
            </select>
          </div>
        </div>

        <div class="row">
          <div>
            <label for="approved">Bond pre-approved?</label>
            <select id="approved" name="approved" aria-label="Bond pre-approval">
              <option>Yes</option><option selected>No</option>
            </select>
          </div>
          <div>
            <label for="count">How many matches to show?</label>
            <select id="count" name="count" aria-label="Number of results">
              <option>1</option>
              <option selected>3</option>
              <option>5</option>
              <option>10</option>
            </select>
            <div style="margin-top:6px">
              <label>
                <input type="checkbox" id="allowOverBudget" name="allowOverBudget">
                Show a few great picks slightly above my budget (if close)
              </label>
            </div>
          </div>
        </div>

        <div role="group" aria-label="Actions" style="margin-top:12px; display:flex; gap:10px; flex-wrap:wrap;">
          <button class="btn" type="submit">Show Matches</button>
          <a id="whatsappTop" class="btn" href="https://wa.me/27662729016?text=Hi%20Blessing,%20please%20match%20me" target="_blank" rel="noopener" role="button" aria-label="Chat with Blessing on WhatsApp">WhatsApp Blessing</a>
          <a id="emailTop" class="btn secondary" href="mailto:blessing@huizemark.co.za?subject=Smart Match Lead" role="button" aria-label="Email Blessing">Email Blessing</a>
        </div>
      </form>
    </section>

    <!-- RESULTS -->
    <section class="card results" aria-labelledby="results-title">
      <h2 id="results-title" style="margin-top:0">Top Matches</h2>
      <div id="out" aria-live="polite" aria-atomic="false">
        <p class="muted">Complete the form to see suggested properties.</p>
      </div>

      <!-- QUICK CONTACT (appears after matches; updates links LIVE) -->
      <div id="quickContact" class="quick-contact" aria-label="Quick contact">
        <div class="mini">
          <div>
            <label for="qc_name">Your name</label>
            <input id="qc_name" placeholder="e.g. Thabo M." autocomplete="name">
          </div>
          <div>
            <label for="qc_email">Your email</label>
            <input id="qc_email" type="email" placeholder="you@example.com" autocomplete="email">
          </div>
          <div>
            <label for="qc_phone">Your phone (WhatsApp)</label>
            <input id="qc_phone" inputmode="tel" placeholder="+27 82 123 4567" autocomplete="tel">
          </div>
          <div>
            <label for="qc_cta">Next step</label>
            <select id="qc_cta">
              <option selected>Arrange a viewing</option>
              <option>Request more photos/videos</option>
              <option>Get bond pre-approval help</option>
              <option>Call me back</option>
            </select>
          </div>
        </div>
        <div class="row" style="margin-top:8px">
          <div>
            <label for="qc_cta_details">Preferred time / details</label>
            <input id="qc_cta_details" placeholder="e.g. Sat 11:00–12:00, or any weekday after 5pm">
          </div>
          <div>
            <label>
              <input type="checkbox" id="qc_consent">
              I consent to Huizemark storing my details for matching (POPIA)
            </label>
            <p class="muted" style="margin:6px 0 0">If not ticked, we’ll send the results only (no personal details).</p>
          </div>
        </div>

        <div style="display:flex; gap:10px; flex-wrap:wrap; margin-top:10px">
          <a id="qc_wa" class="btn" target="_blank" rel="noopener">Chat on WhatsApp</a>
          <a id="qc_mail" class="btn secondary">Email Blessing</a>
        </div>
      </div>
    </section>

    <!-- (Optional) Full lead form kept for longer flows -->
    <section class="card" aria-labelledby="lead-title">
      <h2 id="lead-title" style="margin-top:0">Full details (optional)</h2>
      <form id="lead" style="display:none" novalidate>
        <div class="row">
          <div>
            <label for="name">Your name</label>
            <input id="name" name="name" autocomplete="name" />
          </div>
          <div>
            <label for="email">Your email</label>
            <input id="email" name="email" type="email" autocomplete="email" />
          </div>
        </div>
        <div class="row">
          <div>
            <label for="phone">Your phone (WhatsApp)</label>
            <input id="phone" name="phone" inputmode="tel" autocomplete="tel" />
          </div>
          <div>
            <label for="consent">Consent</label>
            <select id="consent" name="consent" aria-label="Consent to store details">
              <option value="YES" selected>YES (store for matching)</option>
              <option>NO</option>
            </select>
          </div>
        </div>
        <div class="row" style="margin-top:8px">
          <div>
            <label for="cta">What would you like to do next?</label>
            <select id="cta" name="cta" aria-label="Next step">
              <option selected>Arrange a viewing</option>
              <option>Request more photos/videos</option>
              <option>Get bond pre-approval help</option>
              <option>Call me back</option>
            </select>
          </div>
          <div id="ctaDetailsWrap">
            <label for="ctaDetails">Preferred time / details</label>
            <input id="ctaDetails" name="ctaDetails" placeholder="e.g. Sat 11:00–12:00, or any weekday after 5pm">
          </div>
        </div>
        <div role="group" aria-label="Contact actions" style="margin-top:12px; display:flex; gap:10px; flex-wrap:wrap;">
          <a id="wa" class="btn" target="_blank" rel="noopener" role="button" aria-label="Chat with Blessing on WhatsApp">Chat on WhatsApp</a>
          <a id="mailto" class="btn secondary" role="button" aria-label="Email Blessing">Email Blessing</a>
          <button id="submitLead" class="btn" type="submit">Send details</button>
        </div>
        <p id="status" class="muted" role="status" aria-live="polite" style="margin-top:8px"></p>
      </form>
      <p class="muted" style="margin-top:12px">
        All results link back to <a href="https://www.huizemark.com/agents/blessing-nsibande/75570/" target="_blank" rel="noopener">Blessing’s Huizemark profile</a>.
      </p>
    </section>
  </main>

  <footer class="wrap" role="contentinfo" style="margin-bottom:24px;">
    <div class="card" aria-label="Quick contact">
      <div style="display:flex; flex-wrap:wrap; gap:10px;">
        <a class="btn" href="https://wa.me/27662729016?text=Hi%20Blessing,%20please%20match%20me" target="_blank" rel="noopener">WhatsApp Blessing</a>
        <a class="btn secondary" href="mailto:blessing@huizemark.co.za?subject=Smart Match Lead">Email Blessing</a>
      </div>
    </div>
  </footer>

  <!-- JSON-LD for RealEstateAgent -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"RealEstateAgent",
    "name":"Huizemark — Blessing Nsibande",
    "url":"https://match.ncdigital.co.za/",
    "logo":"https://match.ncdigital.co.za/assets/huizemark-logo.png",
    "image":"https://match.ncdigital.co.za/assets/og-image.jpg",
    "areaServed":["Brakpan","Benoni","Ekurhuleni"],
    "telephone":"+27-66-272-9016",
    "sameAs":["https://www.huizemark.com/agents/blessing-nsibande/75570/"]
  }
  </script>

  <script>
    /* ===================== DARK / LIGHT TOGGLE ===================== */
    (function(){
      const btn = document.getElementById('toggleTheme');
      const root = document.documentElement;
      const saved = localStorage.getItem('sm-theme'); // 'dark' | 'light' | null

      // Force previously saved preference
      if (saved === 'dark') { root.classList.add('theme-dark'); root.classList.remove('theme-light'); }
      if (saved === 'light'){ root.classList.add('theme-light'); root.classList.remove('theme-dark'); }

      function label(){
        const isDark = root.classList.contains('theme-dark');
        btn.textContent = isDark ? '☀️ Light mode' : '🌙 Dark mode';
        btn.setAttribute('aria-pressed', String(isDark));
      }
      label();

      btn.addEventListener('click', ()=>{
        // If currently forced dark → switch to forced light; else → forced dark
        if (root.classList.contains('theme-dark')) {
          root.classList.remove('theme-dark');
          root.classList.add('theme-light');
          localStorage.setItem('sm-theme','light');
        } else {
          root.classList.remove('theme-light');
          root.classList.add('theme-dark');
          localStorage.setItem('sm-theme','dark');
        }
        label();
      });

      btn.addEventListener('keydown', (e)=>{ if(e.code === 'Space'){ e.preventDefault(); btn.click(); } });
    })();

    /* ===================== DATA ===================== */
    const STOCK_URL = '/data/listings.json';     // same-origin on GitHub Pages
    window.FALLBACK_STOCK = [];                  // optional fallback

    async function loadStock(){
      try{
        const r = await fetch(STOCK_URL, {cache: 'no-store'});
        if(!r.ok) throw new Error('HTTP '+r.status);
        return await r.json();
      }catch(e){
        console.warn('Could not fetch live stock, using fallback', e);
        return window.FALLBACK_STOCK || [];
      }
    }

    /* ===================== HELPERS ===================== */
    const Q = sel => document.querySelector(sel);
    function fmtRand(n){ try{ return 'R' + Number(n||0).toLocaleString('en-ZA'); }catch(_){ return 'R' + (n||0); } }
    function bedsLabel(v){ return (v==null || v===undefined) ? 'N/A' : String(v); }
    function joinBlocks(blocks){ return blocks.filter(Boolean).join('\n\n'); }
    function numeric(val){ return parseInt(String(val||"").replace(/\D/g,"")||"0",10); }

    function scoreLead(ans,x){
      let s=0;
      const budget = numeric(ans.budget);
      if(budget >= (x.price||Infinity)) s+=15;
      const wanted = parseInt(String(ans.beds||"2").replace("+","")||"2",10);
      if(wanted <= (x.beds||0)) s+=10;
      if(String(ans.approved).toLowerCase()==="yes") s+=60;
      return s;
    }
    function sortStrictByCloseness(budget){
      return (a,b)=>{
        const da = budget - (a.x.price||0);
        const db = budget - (b.x.price||0);
        if (da !== db) return da - db;                                 // closer to budget (under) first
        if ((b.x.price||0)!==(a.x.price||0)) return (b.x.price||0)-(a.x.price||0); // then higher price first
        return b.score - a.score;
      };
    }
    function sortNearByCloseness(budget){
      return (a,b)=>{
        const da = (a.x.price||Infinity) - budget;
        const db = (b.x.price||Infinity) - budget;
        if (da !== db) return da - db;                                 // closer over budget first
        if ((b.x.price||0)!==(a.x.price||0)) return (b.x.price||0)-(a.x.price||0);
        return b.score - a.score;
      };
    }

    /* ===================== MAIN ===================== */
    (async function(){
      const STOCK = await loadStock();

      const qform = Q('#qform');
      const out   = Q('#out');
      const quick = Q('#quickContact');       // quick contact strip
      const qc = {
        name: Q('#qc_name'), email: Q('#qc_email'), phone: Q('#qc_phone'),
        consent: Q('#qc_consent'), cta: Q('#qc_cta'), details: Q('#qc_cta_details'),
        wa: Q('#qc_wa'), mail: Q('#qc_mail')
      };

      const waTop  = Q('#whatsappTop');
      const mailTop= Q('#emailTop');

      // Full form (kept if you want it)
      const lead  = Q('#lead');
      const waBtn = Q('#wa');
      const mailBtn = Q('#mailto');
      const statusEl = Q('#status');

      let baseSummary = "";   // matches + preferences (no PII)
      let fullSummary = "";   // base + user details/CTA

      function buildFullSummaryFromQuick(){
        const parts = [baseSummary];
        const wantsPII = qc.consent.checked;

        // Add buyer details only if consent
        if (wantsPII){
          parts.push('---','BUYER DETAILS');
          if (qc.name.value.trim())  parts.push(`Name: ${qc.name.value.trim()}`);
          if (qc.email.value.trim()) parts.push(`Email: ${qc.email.value.trim()}`);
          if (qc.phone.value.trim()) parts.push(`Phone: ${qc.phone.value.trim()}`);
        }

        // CTA always included (it’s an instruction, not sensitive PII)
        const ctaVal = qc.cta.value;
        let ctaDet = qc.details.value.trim();
        if (ctaVal==='Get bond pre-approval help' && !ctaDet){
          ctaDet = 'Please refer me to a bond originator for a quick check.';
        }
        parts.push(`Next step: ${ctaVal}`);
        if (ctaDet) parts.push(`Details: ${ctaDet}`);

        fullSummary = joinBlocks(parts);
      }

      function updateQuickLinks(){
        buildFullSummaryFromQuick();
        qc.wa.href   = `https://wa.me/27662729016?text=${encodeURIComponent(fullSummary)}`;
        qc.mail.href = `mailto:blessing@huizemark.co.za?subject=Smart Match Lead&body=${encodeURIComponent(fullSummary)}`;

        // Also update top buttons so a user can just tap those
        waTop.href   = qc.wa.href;
        mailTop.href = qc.mail.href;
      }

      // Any change in quick contact fields updates links live
      ['input','change'].forEach(evt=>{
        [qc.name, qc.email, qc.phone, qc.consent, qc.cta, qc.details].forEach(el=>{
          el.addEventListener(evt, updateQuickLinks);
        });
      });

      qform.addEventListener('submit', (e)=>{
        e.preventDefault();
        const ans = Object.fromEntries(new FormData(qform).entries());
        const wantCount = Math.max(1, parseInt(ans.count || '3', 10));
        const allowOver = !!Q('#allowOverBudget')?.checked;
        const budgetNum = numeric(ans.budget);
        const isApproved = String(ans.approved).toLowerCase()==='yes';

        const scored = STOCK.map(x => ({ x, score: scoreLead(ans, x) }));
        const STRICT = scored
          .filter(m => (m.x.price||Infinity) <= budgetNum)
          .sort(sortStrictByCloseness(budgetNum));
        const NEAR = scored
          .filter(m => (m.x.price||Infinity) > budgetNum && (m.x.price - budgetNum)/Math.max(1,budgetNum) <= 0.08)
          .sort(sortNearByCloseness(budgetNum));

        let chosen = STRICT.slice(0, wantCount);
        if (chosen.length < wantCount && allowOver) chosen = chosen.concat(NEAR.slice(0, wantCount - chosen.length));
        if (chosen.length === 0 && scored.length) {
          chosen = scored.slice().sort((a,b)=>{
            const da = Math.abs((a.x.price||0) - budgetNum);
            const db = Math.abs((b.x.price||0) - budgetNum);
            if (da !== db) return da - db;
            return b.score - a.score;
          }).slice(0, Math.min(wantCount, scored.length));
        }

        const listHtml = chosen.map(m => (
          `<li>
             <a href="${m.x.url}" target="_blank" rel="noopener">${m.x.title}</a>
             <span class="muted"> (WebRef ${m.x.ref || '—'}) — ${fmtRand(m.x.price)} — Beds: ${bedsLabel(m.x.beds)} — ${m.x.area || ''}</span>
           </li>`
        )).join("");

        const preapproveMsg = isApproved
          ? '<p><strong>Nice!</strong> You’re pre-approved — let’s book a viewing. Pick a time and Blessing will confirm.</p>'
          : '<p><strong>Tip:</strong> Not pre-approved? We can connect you to a bond originator for a quick check.</p>';

        out.innerHTML = chosen.length
          ? `<ol>${listHtml}</ol>${preapproveMsg}`
          : `<p>No matches yet. Try adjusting budget/bedrooms. You can also message Blessing directly below.</p>`;

        // Build base summary (no PII)
        const matchesBlocks = chosen.map(m => {
          const lines = [
            `• ${m.x.title}`,
            `  WebRef: ${m.x.ref || '—'}`,
            `  Price: ${fmtRand(m.x.price)}`,
            `  Beds: ${bedsLabel(m.x.beds)}`,
            `  Area: ${m.x.area || ''}`,
            `  Link: ${m.x.url}`
          ];
          return lines.join('\n');
        });

        baseSummary = joinBlocks([
          `Hi Blessing, please see my Smart Match results:`,
          `Budget: ${fmtRand(budgetNum)}`,
          `Beds wanted: ${ans.beds}`,
          `Schools: ${ans.schools}`,
          `Garden: ${ans.garden}`,
          `Pre-approved: ${ans.approved}`,
          ``,
          `Matches:`,
          ...matchesBlocks
        ]);

        // Show quick contact strip and seed the links (results only initially)
        quick.style.display = 'block';
        updateQuickLinks(); // will build fullSummary and set links

        // Also show the long form if you still want it available
        lead.style.display = 'block';
        statusEl.textContent = "";
      });

      // Keep the long-form submit flow working too
      lead.addEventListener('submit', (e)=>{
        e.preventDefault();
        const data = Object.fromEntries(new FormData(lead).entries());
        const wantsPII = String(data.consent||'').toUpperCase()==='YES';

        const parts = [baseSummary, '---'];
        if (wantsPII){
          parts.push('BUYER DETAILS');
          if (data.name)  parts.push(`Name: ${data.name}`);
          if (data.email) parts.push(`Email: ${data.email}`);
          if (data.phone) parts.push(`Phone: ${data.phone}`);
        }
        const ctaVal = data.cta || 'Arrange a viewing';
        let ctaDet = (data.ctaDetails||'').trim();
        if (ctaVal==='Get bond pre-approval help' && !ctaDet) {
          ctaDet = 'Please refer me to a bond originator for a quick check.';
        }
        parts.push(`Next step: ${ctaVal}`);
        if (ctaDet) parts.push(`Details: ${ctaDet}`);

        const full = joinBlocks(parts);

        waBtn.href   = `https://wa.me/27662729016?text=${encodeURIComponent(full)}`;
        mailBtn.href = `mailto:blessing@huizemark.co.za?subject=Smart Match Lead&body=${encodeURIComponent(full)}`;
        // sync top buttons too
        Q('#whatsappTop').href = waBtn.href;
        Q('#emailTop').href    = mailBtn.href;

        statusEl.textContent = "Thanks! Your message is ready — tap WhatsApp or Email to send.";
      });

      // Make the top anchor-buttons easy to activate via keyboard
      [waTop, mailTop].forEach(el=>{
        el.setAttribute('tabindex','0');
        el.addEventListener('keydown', (e)=>{ if(e.key==='Enter' || e.key===' '){ e.preventDefault(); el.click(); } });
      });
    })();
  </script>
</body>
</html>
